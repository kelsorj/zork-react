{
    "rooms": {
        "north of house": {
            "description": "You are at the north side of the white house. There is a path here leading north.",
            "actions": {
                "go south": "house",
                "go north": "path",
                "go east": "east of house"
            },
            "items": []
        },
        "path": {
            "description": "You are on a winding path that leads through the forest. A large tree with low branches stands here.",
            "actions": {
                "go south": "north of house",
                "go west": "forest1",
                "go east": "forest2",
                "go north": "grating clearing",
                "climb": "tree top",
                "climb tree": "tree top",
                "go up": "tree top",
                "up": "tree top"
            },
            "items": []
        },
        "forest1": {
            "description": "You are in a forest. Ancient trees tower above you.",
            "actions": {
                "go east": "path",
                "go south": "forest3",
                "go north": "grating clearing"
            },
            "items": []
        },
        "forest2": {
            "description": "You are in a dense forest. The trees seem to close in around you.",
            "actions": {
                "go west": "path",
                "go south": "clearing",
                "go east": "mountains"
            },
            "items": []
        },
        "forest3": {
            "description": "You are in a forest. Ancient trees tower above you.",
            "actions": {
                "go east": "canyon view",
                "go north": "clearing",
                "go northwest": "south of house"
            },
            "items": []
        },
        "grating clearing": {
            "description": "You are in a forest clearing. The ground is covered with a thick pile of leaves that have fallen from the trees above.",
            "actions": {
                "go south": "path",
                "go west": "forest1",
                "go down": {
                    "requires": ["gratingRevealed", "gratingUnlocked", "gratingOpen"],
                    "destination": "grating room",
                    "message": "You climb down through the grating into darkness."
                },
                "d": {
                    "requires": ["gratingRevealed", "gratingUnlocked", "gratingOpen"],
                    "destination": "grating room",
                    "message": "You climb down through the grating into darkness."
                },
                "move leaves": {
                    "message": "Moving aside the thick pile of leaves reveals a metal grating embedded in the ground!",
                    "sets": {
                        "gratingRevealed": true
                    }
                },
                "clear leaves": {
                    "message": "Clearing away the thick pile of leaves reveals a metal grating embedded in the ground!",
                    "sets": {
                        "gratingRevealed": true
                    }
                },
                "unlock grating": {
                    "requires": ["key"],
                    "message": "You unlock the grating with the key.",
                    "sets": {
                        "gratingUnlocked": true
                    }
                },
                "open grating": {
                    "requires": ["gratingUnlocked"],
                    "message": "You open the grating.",
                    "sets": {
                        "gratingOpen": true
                    }
                }
            },
            "state": {
                "gratingRevealed": false,
                "gratingUnlocked": false,
                "gratingOpen": false
            },
            "items": ["leaves"]
        },
        "mountains": {
            "description": "You are in a mountainous area. The peaks loom ominously above you.",
            "actions": {
                "go west": "forest2",
                "go south": "forest2",
                "go north": "forest2"
            },
            "items": []
        },
        "canyon view": {
            "description": "You are at Canyon View. Below you can see the magnificent Aragain Falls.",
            "actions": {
                "go west": "forest3",
                "go northwest": "clearing",
                "go down": "canyon bottom",
                "climb down": "canyon bottom"
            },
            "items": []
        },
        "clearing": {
            "description": "You are in a clearing. The forest opens up here, allowing sunlight to stream through.",
            "actions": {
                "go north": "forest2",
                "go west": "east of house",
                "go east": "canyon view"
            },
            "items": []
        },
        "house": {
            "description": "You are at the white house. It's an old, weathered building with a boarded front door.",
            "actions": {
                "go north": "north of house",
                "go south": "south of house",
                "go east": "east of house",
                "go west": "west of house"
            },
            "items": []
        },
        "living room": {
            "description": "You are in the living room of the white house. A beautiful oriental rug lies in the center. A wooden door leads east into the kitchen. A trophy case stands against one wall.",
            "actions": {
                "go east": "kitchen",
                "go down": "cellar",
                "move rug": "You discover a trapdoor under the rug leading to the cellar!",
                "open trapdoor": "cellar"
            },
            "items": ["case", "lamp", "sword", "rug"]
        },
        "east of house": {
            "description": "You are behind the white house. A path leads into the forest to the east. There is a small window here which is slightly ajar.",
            "actions": {
                "go west": "house",
                "go east": "clearing",
                "enter": "kitchen",
                "open": "The window is already slightly open."
            },
            "items": []
        },
        "kitchen": {
            "description": "You are in the kitchen of the white house. A table seems to have been used recently for the preparation of food. A window is open to the east, and a door leads west.",
            "actions": {
                "go west": "living room",
                "go east": "east of house",
                "exit": "east of house",
                "go up": "attic"
            },
            "items": ["sack", "bottle", "garlic"]
        },
        "attic": {
            "description": "This is the attic. The only exit is a stairway leading down, though there appears to be a tunnel leading north into darkness.",
            "actions": {
                "go down": "kitchen"
            },
            "items": ["rope", "knife"]
        },
        "south of house": {
            "description": "You are at the south side of the white house.",
            "actions": {
                "go north": "house",
                "go south": "forest3",
                "go east": "east of house",
                "go west": "west of house"
            },
            "items": []
        },
        "west of house": {
            "description": "You are at the west side of the white house. There is a small mailbox here.",
            "actions": {
                "go north": "north of house",
                "go south": "south of house",
                "go southwest": "stone barrow",
                "open mailbox": "Opening the mailbox reveals a leaflet."
            },
            "items": ["leaflet"]
        },
        "cellar": {
            "description": "You are in a dark and damp cellar with a narrow passageway leading north, and a crawlway to the south. A rickety wooden staircase leads up.",
            "actions": {
                "go up": "living room",
                "go north": "troll room",
                "go south": "east of chasm"
            },
            "items": []
        },
        "east of chasm": {
            "description": "You are on the east edge of a chasm, the bottom of which cannot be seen. A narrow passage leads north, and the path you are on continues to the east. The path from below ends here, blocked by a massive fallen boulder.",
            "actions": {
                "go north": "cellar",
                "go east": "gallery",
                "jump": "In a moment of insanity, you jump into the chasm. You hit the bottom... eventually.",
                "open coffin": {
                    "requires": ["coffin"],
                    "message": "The coffin breaks open as it hits the bottom of the chasm, revealing a beautiful golden sceptre!"
                },
                "wave sceptre": {
                    "requires": ["sceptre"],
                    "message": "As you wave the sceptre, a magical light fills the chasm, revealing a pot of gold that was hidden in the shadows!"
                }
            },
            "state": {
                "coffinOpened": false,
                "potRevealed": false
            },
            "items": ["pot of gold"]
        },
        "gallery": {
            "description": "This appears to be an art gallery. The walls are lined with paintings and there is a beautiful portrait prominently displayed.",
            "actions": {
                "go north": "studio",
                "go east": "east of chasm"
            },
            "items": ["portrait"]
        },
        "studio": {
            "description": "This appears to be the studio of a painter, but it has been neglected for years. Paint drippings cover everything, and several early attempts at painting have been left on easels to gather dust. A dark and narrow chimney leads up. A doorway leads south.",
            "actions": {
                "go south": "gallery",
                "go up": "kitchen",
                "climb chimney": "kitchen"
            },
            "items": ["easel", "paintbrush"]
        },
        "troll room": {
            "description": "This is a small room with passages to the east and south. Bloodstains and deep scratches mar the walls. A menacing troll brandishing a bloody axe blocks all passages out of the room.",
            "actions": {
                "go south": "cellar",
                "go east": "east west passage",
                "attack troll with sword": "The troll, disarmed by your skilled swordplay, takes flight. The troll, defeated, disappears into the gloom.",
                "throw garlic at troll": "The troll catches the garlic and runs away in disgust. The troll, defeated, disappears into the gloom."
            },
            "items": ["axe"]
        },
        "east west passage": {
            "description": "This is a long east-west passage. There are exits to the north and east.",
            "actions": {
                "go west": "troll room",
                "go east": "round room",
                "go north": "chasm"
            },
            "items": []
        },
        "chasm": {
            "description": "You are at the bottom of a chasm. The walls are smooth and the floor is covered with a thick layer of dust. There are exits to the south and northeast.  ",
            "actions": {
                "go south": "north south passage",
                "go northeast": "reservoir south",
                "go up": "east west passage"
            },
            "items": []
        },
        "north south passage": {
            "description": "You are in a long passage with exits to the north and south.",
            "actions": {
                "go north": "chasm",
                "go south": "round room",
                "go east": "deep canyon"
            },
            "items": []
        },
        "dam base": {
            "description": "You are at the base of the dam. A pile of plastic lies on the ground - it appears to be a Frobozz Magic Inflatable Boat.",
            "actions": {
                "go south": "east west passage",
                "go northeast": "dam",
                "go up": "dam",
                "go down": "loud room",
                "inflate plastic": {
                    "requires": ["air pump"],
                    "message": "The plastic pile inflates into a sturdy rubber boat!"
                },
                "inflate boat": {
                    "requires": ["air pump"],
                    "message": "The boat is already inflated."
                },
                "board boat": {
                    "requires": ["boatInflated"],
                    "destination": "in boat",
                    "message": "You board the rubber boat."
                }
            },
            "state": {
                "boatInflated": false
            },
            "items": ["plastic boat"]
        },
        "dam": {
            "description": "You are standing on top of the Flood Control Dam #3. The dam's control panel has a large bolt and several indicator lights, including a green bubble. Paths lead north and south and down to the dam base.",
            "actions": {
                "go north": "dam lobby",
                "go south": "deep canyon",
                "go west": "reservoir south",
                "go down": "dam base",
                "turn bolt with wrench": {
                    "requires": ["wrench"],
                    "message": "The bolt turns! A rumbling sound fills the area as the sluice gates open and water begins to flow. The green bubble glows brightly."
                }
            },
            "state": {
                "damOpened": false
            },
            "items": []
        },
        "dam lobby": {
            "description": "This room appears to have been the waiting room for tours of the dam. There are exits to the north and east, and a path leads south across the top of the dam.",
            "actions": {
                "go north": "maintenance room",
                "go east": "maintenance room",
                "go south": "dam"
            },
            "items": ["matches","guidebooks"]
        },
        "maintenance room": {
            "description": "This is what appears to have been the maintenance room for the dam. Rusty tools and broken machinery lie everywhere. There is a prominent yellow button on one wall.",
            "actions": {
                "go south": "dam lobby",
                "go west": "dam lobby",
                "push yellow button": "Click.",
                "press yellow button": "Click."
            },
            "items": ["wrench", "screwdriver","buttons","tube"]
        },
        "loud room": {
            "description": "This is a large room with a ceiling which cannot be detected from the ground. There is a narrow passage from east to west and a stone stairway leading upward. The room is deafeningly loud with an undetermined rushing sound. The sound seems to reverberate from all of the walls, making it difficult even to think.",
            "actions": {
                "go west": "round room",
                "go up": "deep canyon",
                "go east": "damp cave",
                "echo": "The acoustics of the room cause your voice to echo and reverberate. As the sound dies away, you notice a platinum bar has appeared!"
            },
            "items": ["platinum bar"]
        },
        "damp cave": {
            "description": "You are in a damp cave. The walls are wet and the floor is covered with a thick layer of dust. There are exits to the west and east.",
            "actions": {
                "go east": "white cliffs north",
                "go west": "loud room"
            },
            "items": []
        },
        "white cliffs north": {
            "description": "You are on the north side of the White Cliffs. There are exits to the south and east.",
            "actions": {
                "go south": "white cliffs south",
                "go west": "damp cave"
            },
            "items": []
        },
        "white cliffs south": {
            "description": "You are on the south side of the White Cliffs. There are exits to the north and west.",
            "actions": {
                "go north": "white cliffs north"
            },
            "items": []
        },
        "deep canyon": {
            "description": "You are in a deep canyon. The walls are smooth and the floor is covered with a thick layer of dust. There are exits to the north, west, east, and down.",
            "actions": {
                "go east": "dam",
                "go north": "reservoir south",
                "go west": "north south passage",
                "go down": "loud room"
            },
            "items": []
        },
        "round room": {
            "description": "This is a circular room with passages in all directions. The walls are made of stone and are inscribed with strange runes.",
            "actions": {
                "go southeast": "engravings cave",
                "go north": "north south passage",
                "go east": "loud room",
                "go south": "narrow passage",
                "go west": "east west passage"
            },
            "items": []
        },
        "engravings cave": {
            "description": "You are in a cave with engravings on the walls. The engravings are of a strange language, but you can make out the words 'Abandon every hope all ye who enter here!'",
            "actions": {
                "go east": "dome room",
                "go west": "round room"
            },
            "items": []
        },
        "narrow passage": {
            "description": "You are in a narrow passage. There are exits to the north and south.",
            "actions": {
                "go north": "round room",
                "go south": "mirror room 2"
            },
            "items": []
        },
        "dome room": {
            "description": "You are at the periphery of a large dome, which forms the ceiling of another room below. Protecting you from a precipitous drop is a wooden railing which circles the dome.",
            "actions": {
                "go west": "engravings cave",
                "climb down": {
                    "requires": ["ropeTied"],
                    "destination": "torch room",
                    "message": "You carefully climb down the rope into the room below."
                },
                "go down": {
                    "requires": ["ropeTied"],
                    "destination": "torch room",
                    "message": "You carefully climb down the rope into the room below."
                },
                "tie rope to railing": {
                    "requires": ["rope"],
                    "message": "You tie the rope securely to the railing. It dangles down into the darkness below.",
                    "sets": {
                        "ropeTied": true
                    }
                }
            },
            "state": {
                "ropeTied": false
            },
            "items": []
        },
        "torch room": {
            "description": "This is a large room with a prominent doorway leading to a down staircase. Above you is a large dome. A passage leads south.",
            "actions": {
                "go up": "dome room",
                "go down": "temple"
            },
            "items": ["torch"]
        },
        "temple": {
            "description": "This is the temple. A passage leads south and another east. A massive wooden door lead west, the doors are locked.",
            "actions": {
                "go south": "altar",
                "go up": "torch room",
                "go east": "egyptian room",
                "pray": "A voice whispers: 'The doors are now unlocked.'",
                "open doors": "The doors are locked."
            },
            "items": ["bell"]
        },
        "egyptian room": {
            "description": "This is the Egyptian Room. Ancient hieroglyphs cover the walls, and a stone coffin rests in the center.",
            "actions": {
                "go west": "temple"
            },
            "items": ["coffin"]
        },
        "altar": {
            "description": "This is the altar. A huge mirror fills the north wall. A small window can be seen in the east wall.",
            "actions": {
                "go up": "temple",
                "go down": "cave"
            },
            "items": ["book", "candles"]
        },
        "cave": {
            "description": "This is a dark and damp cave. A stairway leads up to the temple, and another stairway leads down.",
            "actions": {
                "go down": "entrance to hades",
                "go west": "winding passage"
            },
            "items": []
        },
        "winding passage": {
            "description": "This is a winding passage with passages leading north and east.",
            "actions": {
                "go north": "mirror room 2",
                "go east": "cave"
            },
            "items": []
        },
        "entrance to hades": {
            "description": "You are outside a large gateway inscribed 'Abandon every hope all ye who enter here!' The gate is guarded by demons.",
            "actions": {
                "go up": "cave",
                "go south": "hades",
                "ring bell": "The bell suddenly becomes red hot! You drop it, along with the candles!",
                "light candles with match": {
                    "requires": ["candles", "matches"],
                    "message": "The candles are now lit, casting an eerie glow."
                }
            },
            "state": {
                "candlesLit": false,
                "bellRung": false
            },
            "items": []
        },
        "hades": {
            "description": "You are in Hades. Flames leap up from fiery pits, and demons dance in the shadows.",
            "actions": {
                "go north": "entrance to hades",
                "go up": "entrance to hades"
            },
            "items": ["crystal skull"]
        },
        "mirror room 2": {
            "description": "You are in a large square room with tall ceilings. Huge mirrors line the walls, making it difficult to tell which are doors and which are mirrors.",
            "actions": {
                "go east": "cave",
                "go south": "winding passage",
                "go north": "narrow passage",
                "rub mirror": {
                    "message": "As you rub the mirror, your surroundings shimmer and shift. You find yourself in a different mirror room!",
                    "destination": "mirror room 1",
                    "requires": ["candlesOut"]
                },
                "put out candles": {
                    "message": "You extinguish the candles.",
                    "sets": {
                        "candlesOut": true
                    }
                }
            },
            "state": {
                "candlesOut": false,
                "mirrorRubbed": false
            },
            "items": []
        },
        "mirror room 1": {
            "description": "This mirror room looks almost identical to the one you were just in, but something feels different.",
            "actions": {
                "go north": "bat room",
                "go west": "twisting passage",
                "go east": "small cave"
            },
            "items": []
        },
        "squeaky room": {
            "description": "The floor boards squeak loudly with every step. A strong draft blows from the north.",
            "actions": {
                "go east": "bat room"
            },
            "items": []
        },
        "bat room": {
            "description": "This room is filled with sleeping bats hanging from the ceiling. You'd better not wake them!",
            "actions": {
                "go south": "squeaky room",
                "go east": "shaft room"
            },
            "items": []
        },
        "shaft room": {
            "description": "You are in a room with a deep shaft. A basket on a chain hangs here.",
            "actions": {
                "go west": "bat room",
                "go north": "smelly room",
                "put torch in basket": {
                    "requires": ["torch"],
                    "message": "You place the torch in the basket."
                },
                "put coal in basket": {
                    "requires": ["coal"],
                    "message": "You put the coal in the basket with the torch."
                },
                "send basket": "You send the basket down the shaft.",
                "lower basket": "You lower the basket down the shaft."
            },
            "state": {
                "torchInBasket": false,
                "coalInBasket": false,
                "basketLowered": false
            },
            "items": []
        },
        "smelly room": {
            "description": "This room has a peculiar odor, different from the gas room.",
            "actions": {
                "go south": "shaft room",
                "go down": "gas room"
            },
            "items": []
        },
        "gas room": {
            "description": "This is a gas-filled room. A strong chemical smell permeates the air. A passage leads east into what appears to be a coal mine.",
            "actions": {
                "go up": "smelly room",
                "go east": "coal mine"
            },
            "items": []
        },
        "coal mine": {
            "description": "You are in a coal mine. The walls are covered in coal dust and old mining equipment lies scattered about.",
            "actions": {
                "go west": "gas room",
                "go northeast": "mine 1",
                "go southeast": "mine 2",
                "go southwest": "mine 3",
                "go down": "ladder top"
            },
            "items": []
        },
        "mine 1": {
            "description": "This is a narrow mine passage. The walls are rough and uneven.",
            "actions": {
                "go southwest": "coal mine",
                "go southeast": "mine 2"
            },
            "items": []
        },
        "mine 2": {
            "description": "This is a narrow mine passage. Coal dust covers everything.",
            "actions": {
                "go northwest": "mine 1",
                "go southwest": "mine 3"
            },
            "items": []
        },
        "mine 3": {
            "description": "This is a narrow mine passage. Old mining equipment is scattered about.",
            "actions": {
                "go northeast": "mine 2",
                "go down": "ladder top"
            },
            "items": []
        },
        "ladder top": {
            "description": "You are at the top of a rickety wooden ladder that descends into darkness.",
            "actions": {
                "go up": "mine 3",
                "go down": "ladder bottom"
            },
            "items": []
        },
        "ladder bottom": {
            "description": "You are at the bottom of a rickety wooden ladder. A passage leads west.",
            "actions": {
                "go up": "ladder top",
                "go west": "timber room"
            },
            "items": []
        },
        "timber room": {
            "description": "This is a room filled with old mining timbers. A narrow crack in the west wall looks just barely wide enough to squeeze through.",
            "actions": {
                "go east": "ladder bottom",
                "squeeze west": "drafty room"
            },
            "items": ["timber"]
        },
        "drafty room": {
            "description": "This is the drafty room at the bottom of the shaft. A basket hangs here, and passages lead east and south.",
            "actions": {
                "go east": "timber room",
                "go south": "machine room",
                "take torch from basket": {
                    "requires": ["basket"],
                    "message": "You take the torch from the basket."
                },
                "take coal from basket": {
                    "requires": ["basket"],
                    "message": "You take the coal from the basket."
                }
            },
            "items": []
        },
        "machine room": {
            "description": "This is a room filled with machinery. A large coal-burning machine dominates the center of the room. A passage leads north.",
            "actions": {
                "go north": "drafty room",
                "open lid": "You open the machine's lid, revealing a coal chamber.",
                "close lid": "You close the machine's lid.",
                "turn switch with screwdriver": {
                    "requires": ["screwdriver"],
                    "message": "The machine rumbles to life, processing the coal. After a moment, it stops."
                }
            },
            "state": {
                "lidOpen": false,
                "coalInMachine": false,
                "machineRun": false
            },
            "items": ["diamond"]
        },
        "reservoir south": {
            "description": "You are at the south end of a large reservoir. The dam's sluice gates are open, allowing passage to the north.",
            "actions": {
                "go north": {
                    "requires": ["damOpened"],
                    "destination": "reservoir",
                    "message": "You proceed north through the open sluice gates."
                },
                "go east": "dam",
                "go southeast": "deep canyon"
            },
            "items": []
        },
        "reservoir": {
            "description": "You are in the middle of a vast reservoir. The water stretches out in all directions.",
            "actions": {
                "go south": "reservoir south",
                "go north": "reservoir north"
            },
            "items": ["trunk of jewels"]
        },
        "reservoir north": {
            "description": "You are at the north end of the reservoir. A passage leads north into darkness.",
            "actions": {
                "go south": "reservoir",
                "go north": "atlantis room"
            },
            "items": ["air pump"]
        },
        "atlantis room": {
            "description": "This appears to be the ruins of the legendary city of Atlantis. Ancient columns rise from the water.",
            "actions": {
                "go south": "reservoir north",
                "go up": "small cave"
            },
            "items": ["crystal trident"]
        },
        "small cave": {
            "description": "This is a small cave with a large stalactite hanging from the ceiling.",
            "actions": {
                "go down": "atlantis room",
                "go west": "twisting passage"
            },
            "items": []
        },
        "twisting passage": {
            "description": "This is a twisting room with passages leading north and east.",
            "actions": {
                "go north": "mirror room 1",
                "go east": "small cave"
            },
            "items": []
        },
        "in boat": {
            "description": "You are sitting in a rubber boat on the river. The current is strong here.",
            "actions": {
                "wait": "The boat drifts in the current...",
                "launch": "The boat begins to move with the current.",
                "go east": "sandy beach"
            },
            "state": {
                "waitCount": 0,
                "buoyVisible": false
            },
            "items": []
        },
        "aragain falls": {
            "description": "You are at the base of Aragain Falls. A beautiful rainbow arcs across the falls.",
            "actions": {
                "go north": "shore",
                "cross rainbow": "canyon view"
            },
            "items": []
        },
        "shore": {
            "description": "You are on the shore of the river near Aragain Falls. The thundering sound of the falls fills the air. The river is too dangerous to cross here.",
            "actions": {
                "go north": "sandy beach",
                "go south": "aragain falls"
            },
            "items": []
        },
        "sandy beach": {
            "description": "You are on a sandy beach at the edge of the river. The water is too rough to swim.",
            "actions": {
                "go northeast": "sandy cave",
                "go south": "aragain falls",
                "exit boat": "You step out of the boat onto the beach.",
                "get out": "You step out of the boat onto the beach."
            },
            "items": ["shovel"]
        },
        "sandy cave": {
            "description": "This is a sandy cave near the beach. The sand here seems loose and shifting.",
            "actions": {
                "go southwest": "sandy beach",
                "dig": "You dig in the sand...",
                "dig sand": "You dig deeper in the sand..."
            },
            "state": {
                "digCount": 0,
                "scarabRevealed": false
            },
            "items": []
        },
        "end of rainbow": {
            "description": "You are at the end of the rainbow. The sun shines brightly here, creating the beautiful arc you just crossed.",
            "actions": {
                "go southwest": "canyon bottom"
            },
            "items": []
        },
        "canyon bottom": {
            "description": "You are at the bottom of the canyon. A rainbow arcs across the chasm, its colors shimmering in the sunlight.",
            "actions": {
                "go up": {
                    "destination": "canyon view",
                    "message": "You carefully climb back up the canyon wall."
                },
                "climb up": {
                    "destination": "canyon view",
                    "message": "You carefully climb back up the canyon wall."
                },
                "climb": {
                    "destination": "canyon view",
                    "message": "You carefully climb back up the canyon wall."
                },
                "open coffin": {
                    "message": "The coffin creaks open, revealing an ancient sceptre inside.",
                    "reveals": {
                        "sceptre": "canyon bottom"
                    }
                },
                "wave sceptre": {
                    "message": "As you wave the sceptre, the rainbow solidifies into a beautiful bridge! A pot of gold appears at its base."
                },
                "look": {
                    "message": "You are at the bottom of the canyon. A rainbow arcs across the chasm, its colors shimmering in the sunlight. {if roomStates.canyon bottom.rainbowSolid}The rainbow has solidified into a beautiful bridge. A pot of gold glimmers at its base.{/if}"
                }
            }
        },
        "tree top": {
            "description": "You are in the top of the large tree. There is a bird's nest here.",
            "actions": {
                "go down": "path",
                "climb down": "path",
                "down": "path",
                "wind canary": {
                    "requires": ["jeweled egg"],
                    "message": "You wind up the mechanical canary and carefully remove it from the jeweled egg. Now you have both a beautiful mechanical canary and an exquisite jeweled egg!"
                }
            },
            "state": {
                "canaryWound": false
            },
            "items": ["jeweled egg", "nest"]
        },
        "adventurers remains": {
            "description": "You are in a small room. The skeletal remains of a previous adventurer lie here, clutching some items.",
            "actions": {
                "go up": "maze15",
                "touch skeleton": "As you touch the skeleton, a deadly curse takes effect. You die instantly!",
                "take skeleton": "As you touch the skeleton, a deadly curse takes effect. You die instantly!"
            },
            "items": ["bag of coins", "key"]
        },
        "strange passage": {
            "description": "You are in a strange small room.",
            "actions": {
                "go east": "living room",
                "gowest": "cyclops room"
            },
            "items": []
        },
        "cyclops room": {
            "description": "This is the lair of the cyclops. The walls are decorated with human bones.",
            "actions": {
                "go northwest": "maze15",
                "go east": "strange passage",
                "go up": "treasure room",
                "ulysses": "At the sound of his ancient enemy's name, the cyclops flees in terror, smashing through the wall to the living room!",
                "odysseus": "At the sound of his ancient enemy's name, the cyclops flees in terror, smashing through the wall to the living room!",
                "give food": {
                    "requires": ["lunch", "water"],
                    "message": "The cyclops accepts the food and water, then falls into a deep sleep."
                }
            },
            "state": {
                "cyclopsFled": false,
                "cyclopsSleeping": false
            },
            "items": []
        },
        "treasure room": {
            "description": "This is a large room filled with treasures. A suspicious-looking thief lurks in the shadows.",
            "actions": {
                "go down": "cyclops room",
                "give egg to thief": {
                    "requires": ["jeweled egg"],
                    "message": "The thief examines the egg carefully and pockets it with a grin."
                },
                "kill thief with knife": {
                    "requires": ["knife"],
                    "message": "You catch the thief off guard! After a brief struggle, he falls to the ground, dropping his loot."
                }
            },
            "state": {
                "thiefAlive": true,
                "thiefHasEgg": false
            },
            "items": ["chalice", "stolen items"]
        },
        "maze1": {
            "description": "This is part of a maze of twisty little passages, all 1 alike.",
            "actions": {
                "go north": "maze1",
                "go south": "maze2",
                "go east": "troll room",
                "go west": "maze4"
            },
            "items": []
        },
        "maze2": {
            "description": "This is part of a maze of twisty little passages, all 2 alike.",
            "actions": {
                "go south": "maze1",
                "go east": "maze3",
                "go down": "maze4"
            },
            "items": []
        },
        "maze3": {
            "description": "This is part of a maze of twisty little passages, all 3 alike.",
            "actions": {
                "go west": "maze2",
                "go north": "maze4",
                "go up": "maze5"
            },
            "items": []
        },
        "maze4": {
            "description": "This is part of a maze of twisty little passages, all 4 alike.",
            "actions": {
                "go west": "maze3",
                "go east": "maze16",
                "go north": "maze1"
            },
            "items": []
        },
        "maze5": {
            "description": "This is part of a maze of twisty little passages, all 5 alike.",
            "actions": {
                "go north": "maze3",
                "go southwest": "maze6",
                "go east": "maze18"
            },
            "items": []
        },
        "maze6": {
            "description": "This is part of a maze of twisty little passages, all 6 alike.",
            "actions": {
                "go east": "maze7",
                "go west": "maze6",
                "go up": "maze9",
                "go down": "maze5"
            },
            "items": []
        },
        "maze7": {
            "description": "This is part of a maze of twisty little passages, all 7 alike.",
            "actions": {
                "go east": "maze8",
                "go west": "maze6",
                "go up": "maze14",
                "go down": "maze16"
            },
            "items": []
        },
        "maze8": {
            "description": "This is part of a maze of twisty little passages, all 8 alike.",
            "actions": {
                "go northeast": "maze7",
                "go west": "maze8",
                "go southeast": "maze17"
            },
            "items": []
        },
        "maze9": {
            "description": "This is part of a maze of twisty little passages, all 9 alike.",
            "actions": {
                "go north": "maze6",
                "go west": "maze12",
                "go south": "maze13",
                "go east": "maze10",
                "go down": "maze11",
                "go northwest": "maze9"
            },
            "items": []
        },
        "maze10": {
            "description": "This is part of a maze of twisty little passages, all 10 alike.",
            "actions": {
                "go up": "maze11",
                "go east": "maze9",
                "go west": "maze13"
            },
            "items": []
        },
        "maze11": {
            "description": "This is part of a maze of twisty little passages, all 11 alike.",
            "actions": {
                "go north": "grating room",
                "go southwest": "maze12",
                "go northwest": "maze13",
                "go down": "maze10"
            },
            "items": []
        },
        "maze12": {
            "description": "This is part of a maze of twisty little passages, all 12 alike.",
            "actions": {
                "go north": "maze19",
                "go southwest": "maze11",
                "go east": "maze13",
                "go up": "maze9",
                "go down": "maze5"
            },
            "items": []
        },
        "maze13": {
            "description": "This is part of a maze of twisty little passages, all 13 alike.",
            "actions": {
                "go south": "maze10",
                "go west": "maze11",
                "go east": "maze9",
                "go down": "maze13"
            },
            "items": []
        },
        "maze14": {
            "description": "This is part of a maze of twisty little passages, all 14 alike.",
            "actions": {
                "go northeast": "maze7",
                "go east": "maze14",
                "go west": "maze15"
            },
            "items": []
        },
        "maze15": {
            "description": "This is part of a maze of twisty little passages, all 15 alike. Something below you smells like death.",
            "actions": {
                "go south": "maze7",
                "go west": "maze14",
                "go southeast": "cyclops room",
                "go down": "adventurers remains"
            },
            "items": []
        },
        "maze16": {
            "description": "This is part of a maze of twisty little passages, all 16 alike.",
            "actions": {
                "go south": "maze4"
            },
            "items": []
        },
        "maze17": {
            "description": "This is part of a maze of twisty little passages, all 17 alike.",
            "actions": {
                "go north": "maze8"
            },
            "items": []
        },
        "maze18": {
            "description": "This is part of a maze of twisty little passages, all alike.",
            "actions": {
                "go west": "maze5"
            },
            "items": []
        },
        "maze19": {
            "description": "This is part of a maze of twisty little passages, all alike.",
            "actions": {
                "go south": "maze12"
            },
            "items": []
        },
        "grating room": {
            "description": "You are in a small room with a metal grating in the ceiling. A pile of leaves has fallen through.",
            "actions": {
                "go south": "maze11",
                "go up": {
                    "requires": ["gratingRevealed", "gratingUnlocked", "gratingOpen"],
                    "destination": "grating clearing",
                    "message": "You climb up through the grating into the forest."
                }
            },
            "state": {
                "gratingRevealed": false,
                "gratingUnlocked": false,
                "gratingOpen": false
            },
            "items": ["leaves"]
        },
        "river1": {
            "description": "You are in the rubber boat on a calm section of the river. The current is gentle here, but grows stronger to the south.",
            "actions": {
                "go north": "dam base",
                "go south": "river2",
                "exit boat": "You'd better not leave the boat here - the banks are too steep to climb.",
                "wait": "The current slowly carries you southward..."
            },
            "items": []
        },
        "river2": {
            "description": "You are in the rubber boat on the river. The current is getting noticeably stronger, and you can hear the roar of falls in the distance.",
            "actions": {
                "go north": "river1",
                "go south": "river3",
                "exit boat": "You'd better not leave the boat here - the banks are too steep to climb.",
                "wait": "The current carries you southward more quickly now..."
            },
            "items": []
        },
        "river3": {
            "description": "You are in the rubber boat on the rapidly moving river. The roar of the falls is getting louder. The current is very strong here.",
            "actions": {
                "go north": "river2",
                "go south": "river4",
                "exit boat": "white cliffs north",
                "wait": "The current pulls you swiftly southward..."
            },
            "items": []
        },
        "river4": {
            "description": "You are in the rubber boat on the river. The roar of Aragain Falls is very loud here. The current is extremely strong. WARNING: The falls are very close now!",
            "actions": {
                "go north": "river3",
                "go south": "river5",
                "exit boat": "sandy beach",
                "wait": "The current drags you rapidly southward..."
            },
            "items": []
        },
        "river5": {
            "description": "You are in the rubber boat on the river. The thundering of Aragain Falls fills your ears. You are about to go over the falls! This is your last chance to escape!",
            "actions": {
                "go north": "river4",
                "go south": "falls death",
                "wait": "The boat goes over the falls, smashing on the rocks below. You don't survive the fall.\n\n*** You have died ***",
                "exit boat": "shore"
            },
            "items": []
        },
        "falls death": {
            "description": "You went over Aragain Falls in the boat. Few have survived this.\n\n*** You have died ***",
            "actions": {},
            "items": []
        }
    },
    "inventory": [],
    "state": {
        "currentRoom": "west of house",
        "itemsInWorld": {
            "lantern": "house",
            "case": "living room",
            "lamp": "living room",
            "sword": "living room",
            "rug": "living room",
            "nest": "tree",
            "egg": "tree",
            "canary": "tree",
            "treasure": "treasure room",
            "leaflet": "west of house",
            "bottle": "kitchen",
            "garlic": null,
            "knife": "attic",
            "rope": "attic",
            "jewels": "treasure room",
            "chalice": "treasure room",
            "platinum bar": "loud room",
            "wrench": "maintenance room",
            "torch": "torch room",
            "bell": "temple",
            "candles": "altar",
            "book": "altar",
            "sack": "kitchen",
            "skull": "land of dead",
            "shovel": "sandy beach",
            "screwdriver": "maintenance room",
            "leaves": "grating clearing",
            "gas mask": "gas room",
            "basket": "shaft room",
            "timber": "timber room",
            "coal": "dead end",
            "pick": "mine",
            "machine parts": "machine room",
            "portrait": "gallery",
            "easel": "studio",
            "paintbrush": "studio",
            "axe": "troll room",
            "coffin": "egyptian room",
            "sceptre": "egyptian room",
            "matches": "dam lobby",
            "crystal skull": "hades",
            "diamond": "machine room",
            "bracelet": "gas room",
            "jade figurine": "bat room",
            "trunk of jewels": "reservoir",
            "air pump": "reservoir north",
            "crystal trident": "atlantis room",
            "plastic boat": "dam base",
            "scarab": null,
            "emerald": null,
            "buoy": "in boat",
            "jeweled egg": "tree top",
            "bag of coins": "adventurers remains",
            "key": "adventurers remains",
            "bauble": null,
            "buttons": "maintenance room",
            "tube": "maintenance room",
            "guidebooks": "dam lobby",
            "stolen items": "treasure room",
            "pot of gold": "canyon bottom",
            "water": null
        },
        "lockedDoors": [
            "house-door",
            "grating",
            "treasure room door",
            "gates of hades"
        ],
        "itemDescriptions": {
            "leaflet": "Welcome to ZORK!\n\nZORK is a game of adventure, danger, and low cunning. In it you will explore some of the most amazing territory ever seen by mortals.\n\nNo computer should be without one!",
            "egg": "The egg is covered in intricate jeweled patterns. You can't seem to find a way to open it.",
            "sack": "Opening the sack reveals a lunch and a clove of garlic.",
            "bottle": "The bottle contains water.",
            "lunch": "A tasty-looking lunch.",
            "garlic": "A pungent clove of garlic.",
            "nest": "A small bird's nest.",
            "axe": "This is a bloody axe, evidence of its owner's violent tendencies.",
            "platinum bar": "This is a large and very heavy platinum bar.",
            "bell": "This is a beautiful brass bell.",
            "torch": "This is an ancient torch, still burning brightly.",
            "rope": "This is a sturdy rope, suitable for climbing.",
            "book": "This appears to be a prayer book written in Latin.",
            "candles": "These are ceremonial black candles.",
            "coffin": "This is an elaborately decorated stone coffin, covered in hieroglyphs.",
            "sceptre": "This is a beautiful golden sceptre, encrusted with precious gems.",
            "matches": "These are waterproof matches.",
            "crystal skull": "This is an exquisitely carved crystal skull, perfectly transparent.",
            "gas mask": "This is a standard-issue gas mask, it should protect you from toxic fumes.",
            "coins": "These are ancient coins, possibly valuable to collectors.",
            "knife": "This is a sharp knife, useful for cutting things.",
            "coal": "This is a chunk of coal, still good for burning.",
            "timber": "This is a broken timber, apparently left over from the mine's operational days.",
            "diamond": "This is a brilliant diamond, clearly worth a fortune.",
            "bracelet": "This is an exquisite jade bracelet.",
            "jade figurine": "This is an exquisite jade figurine.",
            "trunk of jewels": "This is an ornate trunk filled with precious jewels.",
            "air pump": "This is a hand-operated air pump.",
            "crystal trident": "This is a beautiful crystal trident.",
            "plastic boat": "This is a deflated Frobozz Magic Inflatable Boat.",
            "shovel": "This is a sturdy shovel, perfect for digging.",
            "scarab": "This is an ancient Egyptian scarab, beautifully carved.",
            "emerald": "This is a brilliant emerald.",
            "buoy": "This is a navigation buoy. It looks like it might open.",
            "jeweled egg": "This is a beautiful egg, encrusted with precious jewels.",
            "bag of coins": "This is a heavy bag of ancient coins.",
            "key": "This is an ornate brass key.",
            "chalice": "This is an exquisite silver chalice.",
            "bauble": "This is a beautiful golden bauble dropped by the mechanical canary.",
            "portrait": "This is a beautiful portrait prominently displayed.",
            "buttons": "These appear to be spare control panel buttons.",
            "tube": "This appears to be some kind of maintenance tube.",
            "guidebooks": "These are tourist guidebooks for the dam.",
            "stolen items": "These are various valuable items the thief has collected.",
            "pot of gold": "This is a heavy pot filled with gold coins.",
            "water": "Clear, refreshing water.",
            "leaves": "These are ordinary fallen leaves."
        },
        "containerContents": {
            "sack": ["lunch", "garlic"],
            "bottle": ["water"],
            "case": [],
            "basket": [],
            "machine": [],
            "buoy": ["emerald"]
        },
        "roomStates": {
            "troll room": {
                "trollDefeated": false
            }
        },
        "trophyItems": [
            "jeweled egg",
            "canary",
            "portrait",
            "platinum bar",
            "torch",
            "coffin",
            "sceptre",
            "trunk of jewels",
            "crystal trident",
            "jade figurine",
            "bracelet",
            "diamond",
            "bag of coins",
            "crystal skull",
            "scarab",
            "emerald",
            "chalice",
            "pot of gold",
            "bauble"
        ],
        "treasurePoints": {
            "jeweled egg": {"take": 10, "case": 10},
            "canary": {"take": 10, "case": 10},
            "platinum bar": {"take": 10, "case": 10},
            "torch": {"take": 14, "case": 14},
            "coffin": {"take": 15, "case": 15},
            "sceptre": {"take": 10, "case": 10},
            "trunk of jewels": {"take": 15, "case": 15},
            "crystal trident": {"take": 11, "case": 11},
            "jade figurine": {"take": 10, "case": 10},
            "bracelet": {"take": 10, "case": 10},
            "diamond": {"take": 15, "case": 15},
            "bag of coins": {"take": 10, "case": 10},
            "crystal skull": {"take": 15, "case": 15},
            "scarab": {"take": 10, "case": 10},
            "emerald": {"take": 10, "case": 10},
            "chalice": {"take": 10, "case": 10},
            "pot of gold": {"take": 15, "case": 15},
            "bauble": {"take": 5, "case": 5},
            "portrait": {"take": 10, "case": 10}
        },
        "deathMessages": {
            "skeleton": "As you touch the skeleton, a deadly curse takes effect. You die instantly!\n\n*** You have died ***\n\nYou scored 0 out of a possible 350 points.\nWould you like to restart the game?"
        },
        "stolenItems": [],
        "thiefInventory": []
    },
    "commands": {
        "go": {
            "description": "Moves to another room.",
            "syntax": "go [direction]"
        },
        "take": {
            "description": "Adds an item to your inventory.",
            "syntax": "take [item]"
        },
        "use": {
            "description": "Uses an item in your inventory.",
            "syntax": "use [item]"
        },
        "inventory": {
            "description": "Lists all items in your inventory.",
            "syntax": "inventory"
        },
        "unlock": {
            "description": "Unlocks a locked door or object.",
            "syntax": "unlock [object]"
        },
        "drop": {
            "description": "Drops an item from your inventory.",
            "syntax": "drop [item]"
        },
        "examine": {
            "description": "Examines an item or object closely.",
            "syntax": "examine [item]"
        },
        "look": {
            "description": "Describes the current room and its items.",
            "syntax": "look"
        },
        "read": {
            "description": "Reads a readable object.",
            "syntax": "read [object]"
        },
        "climb": {
            "description": "Climbs a climbable object.",
            "syntax": "climb [object]"
        },
        "open": {
            "description": "Opens a container, door, or window.",
            "syntax": "open [object]"
        },
        "enter": {
            "description": "Enters a building, passage, or window.",
            "syntax": "enter [object]"
        },
        "exit": {
            "description": "Exits through a door or window.",
            "syntax": "exit [object]"
        },
        "pray": {
            "description": "Pray at a holy site.",
            "syntax": "pray"
        },
        "ring": {
            "description": "Ring a bell or similar object.",
            "syntax": "ring [object]"
        },
        "light": {
            "description": "Light a candle, torch, or similar object.",
            "syntax": "light [object]"
        },
        "swim": {
            "description": "Swim in water.",
            "syntax": "swim"
        }
    }
}